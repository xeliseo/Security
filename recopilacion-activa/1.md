# 1. Transferencia de Zona DNS

## Concepto

La **transferencia de zona** (AXFR) es un mecanismo del protocolo DNS que permite replicar la base de datos de registros DNS completa desde un servidor primario hacia servidores secundarios. Su propósito legítimo es mantener la redundancia y consistencia entre servidores DNS autoritativos de un dominio.

### Por qué es relevante en seguridad

Cuando un servidor DNS está mal configurado y no restringe las transferencias de zona únicamente a servidores autorizados, un atacante puede solicitar una transferencia completa. Esto expone información valiosa:

- **Subdominios internos** (intranet, dev, staging, admin, etc.)
- **Direcciones IP internas** de servidores
- **Registros MX** (servidores de correo)
- **Registros TXT** (pueden contener información sensible como SPF, DKIM)
- **Estructura de la infraestructura** del objetivo

## Herramientas online para consultas DNS

- [DNSTransfer.com](https://dnstransfer.com)
- [CentralOps](https://centralops.net)

## Comandos para transferencia de zona

### Con nslookup (interactivo)

```bash
nslookup
> set type=<type_record>
> <domain>
```

### Con dig (recomendado)

```bash
dig axfr <domain> @<dns_server>
```

- `axfr`: Solicita una transferencia de zona completa
- `@<dns_server>`: Especifica el servidor DNS a consultar

### Con dnsrecon (automatizado)

```bash
dnsrecon -d <domain> -t axfr
```

**Funcionamiento de dnsrecon:**
1. Descubre automáticamente los nameservers del dominio (registros NS)
2. Intenta realizar una transferencia de zona contra cada nameserver encontrado
3. Reporta los resultados de forma estructurada



